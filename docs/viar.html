<!DOCTYPE html>
<html>
<head>
  <title>AR Video Portal</title>
  <style>
    body { margin: 0; padding: 0; }
    .iframe-container { display: flex; height: 100vh; }
    iframe { flex: 1; border: none; }
  </style>
</head>
<body>
  <div class="iframe-container">
    <iframe id="frame1"></iframe>
    <iframe id="frame2"></iframe>
  </div>

  <script>
    (function() {
      const PEER_ID = new URLSearchParams(window.location.search).get('PeerDesktopID');
      
      function configureIframe(iframe, src) {
        const url = new URL(src, window.location.href);
        url.searchParams.set('PeerDesktopID', PEER_ID);
        iframe.src = url.toString();
      }

      window.addEventListener('DOMContentLoaded', () => {
        if (!PEER_ID) {
          console.error('Missing PeerDesktopID parameter');
          return;
        }
        
        configureIframe(document.getElementById('frame1'), 'share-screen.html');
        configureIframe(document.getElementById('frame2'), 'share-screenV.html');
      });

      // Error handling bridge
      window.addEventListener('message', (e) => {
        if (e.data.type === 'error') {
          console.error(`Iframe Error [${e.origin}]:`, e.data.message);
        }
      });
    })();
  </script>
</body>
</html>
