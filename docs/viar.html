<!DOCTYPE html>
<html>
<head>
  <title>AR Video Conferencing</title>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; display: flex; flex-direction: column; }
    iframe { width: 100%; height: 50%; border: none; flex: 1; }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const urlParams = new URLSearchParams(window.location.search);
      const peerDesktopId = urlParams.get('PeerDesktopID');

      const iframe1 = document.getElementById('iframe1');
      const iframe2 = document.getElementById('iframe2');

      function loadIframe(iframe, src) {
        if (!peerDesktopId) {
          console.error('Missing PeerDesktopID');
          return;
        }
        const url = new URL(src, window.location.href);
        url.searchParams.set('PeerDesktopID', peerDesktopId);
        iframe.src = url.toString();
      }

      loadIframe(iframe1, 'share-screen.html');
      loadIframe(iframe2, 'share-screenV.html');

      window.addEventListener('message', (event) => {
        if (event.data?.type === 'resize') {
          [iframe1, iframe2].forEach(iframe => {
            iframe.contentWindow.postMessage(event.data, '*');
          });
        }
      });
    });
  </script>
</head>
<body>
  <iframe id="iframe1"></iframe>
  <iframe id="iframe2"></iframe>
</body>
</html>
